<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thư Viện 100 Thẻ Bài AR</title>
    <style>
        /* CSS cho giao diện */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #333; /* Nền tối giống ảnh */
            color: #eee;
            display: flex;
            flex-direction: column;
            min-height: 100vh; /* Đảm bảo chiều cao tối thiểu */
            overflow-x: hidden; /* Ngăn chặn cuộn ngang không mong muốn */
            position: relative; /* Quan trọng cho overlay */
        }

        h1 {
            font-size: 28px;
            margin-left: 20px;
            margin-top: 15px; /* Giảm margin top để tiêu đề gần cạnh trên hơn */
            margin-bottom: 15px;
            color: #eee;
            flex-shrink: 0;
        }

        .card-grid-container {
            flex-grow: 1; /* Cho phép vùng này mở rộng để lấp đầy không gian còn lại */
            overflow-y: auto; /* Cho phép cuộn dọc */
            padding: 0 20px 20px 20px; /* Thêm padding dưới để có khoảng trống khi cuộn */
            -webkit-overflow-scrolling: touch; /* Cuộn mượt mà trên iOS */
        }

        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); /* Cột linh hoạt */
            gap: 15px; /* Khoảng cách giữa các thẻ */
            justify-items: center; /* Căn giữa các thẻ trong ô của chúng */
            align-items: start; /* Căn chỉnh các thẻ từ trên xuống */
            padding-bottom: 20px; /* Khoảng trống ở cuối grid */
        }

        .card {
            background-color: #1a1a1a;
            border: 2px solid #5d4037; /* Màu viền thẻ bài */
            border-radius: 8px;
            padding: 5px;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            width: 100%; /* Chiếm toàn bộ chiều rộng ô grid */
            max-width: 160px; /* Giới hạn kích thước tối đa của thẻ */
            height: auto; /* Chiều cao tự động */
            box-sizing: border-box; /* Bao gồm padding và border trong width/height */
            cursor: pointer; /* Hiển thị con trỏ là bàn tay để chỉ ra có thể nhấp */
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.6);
        }

        .card-image {
            width: 100%;
            max-width: 150px; /* Kích thước tối đa cho hình ảnh trong thẻ */
            height: auto;
            border-radius: 4px;
            margin-bottom: 8px;
            border: 1px solid #444; /* Viền mỏng cho ảnh */
        }

        .card-title {
            font-size: 0.9em;
            font-weight: bold;
            color: #ffc107; /* Màu vàng cho tiêu đề */
            margin-bottom: 5px;
        }

        .card-description {
            font-size: 0.7em;
            color: #bbb;
            text-align: left;
            padding: 0 5px;
            margin-bottom: 5px;
            max-height: 60px; /* Giới hạn chiều cao mô tả */
            overflow: hidden; /* Ẩn phần văn bản thừa */
            text-overflow: ellipsis; /* Hiển thị dấu ba chấm nếu bị cắt */
        }

        .card-rarity {
            font-size: 0.8em;
            color: #9c27b0; /* Màu tím cho độ hiếm */
            font-weight: bold;
            margin-top: auto; /* Đẩy xuống dưới cùng */
        }

        /* Thanh cuộn tùy chỉnh */
        .card-grid-container::-webkit-scrollbar {
            width: 8px;
        }

        .card-grid-container::-webkit-scrollbar-track {
            background: #444;
            border-radius: 4px;
        }

        .card-grid-container::-webkit-scrollbar-thumb {
            background-color: #888;
            border-radius: 4px;
            border: 2px solid #444;
        }

        .card-grid-container::-webkit-scrollbar-thumb:hover {
            background-color: #aaa;
        }

        /* Responsive adjustments */
        @media (max-width: 600px) {
            h1 {
                font-size: 24px;
                margin-left: 15px;
            }

            .card-grid {
                grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); /* Nhỏ hơn trên di động */
                gap: 10px;
            }

            .card {
                max-width: 140px;
            }

            .card-title {
                font-size: 0.8em;
            }

            .card-description {
                font-size: 0.65em;
            }
        }

        @media (max-width: 400px) {
            .card-grid {
                grid-template-columns: repeat(auto-fill, minmax(90px, 1fr));
            }
            .card {
                max-width: 120px;
            }
        }

        /* --- Full-screen Card Overlay (Modal) --- */
        .fullscreen-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9); /* Nền mờ tối */
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000; /* Đảm bảo nó nằm trên tất cả các yếu tố khác */
            opacity: 0; /* Mặc định ẩn */
            visibility: hidden; /* Mặc định ẩn */
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }

        .fullscreen-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .fullscreen-card {
            background-color: #1a1a1a;
            border: 4px solid #5d4037; /* Viền dày hơn */
            border-radius: 12px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.8);
            max-width: 90%; /* Giới hạn chiều rộng trên màn hình lớn */
            max-height: 90%; /* Giới hạn chiều cao */
            width: 350px; /* Chiều rộng mặc định cho thẻ lớn */
            height: auto;
            box-sizing: border-box;
            position: relative;
            transform: scale(0.8); /* Bắt đầu nhỏ hơn một chút */
            transition: transform 0.3s ease;
            overflow-y: auto; /* Cho phép cuộn nếu nội dung quá dài */
        }

        .fullscreen-overlay.active .fullscreen-card {
            transform: scale(1); /* Phóng to ra */
        }

        .fullscreen-card-image {
            width: 100%;
            max-width: 300px; /* Kích thước hình ảnh lớn hơn */
            height: auto;
            border-radius: 8px;
            margin-bottom: 15px;
            border: 2px solid #666;
        }

        .fullscreen-card-title {
            font-size: 1.8em;
            font-weight: bold;
            color: #ffc107;
            margin-bottom: 10px;
        }

        .fullscreen-card-description {
            font-size: 1.1em;
            color: #ccc;
            text-align: justify; /* Căn đều hai bên cho mô tả */
            padding: 0 10px;
            margin-bottom: 15px;
            line-height: 1.4;
        }

        .fullscreen-card-rarity {
            font-size: 1.2em;
            color: #9c27b0;
            font-weight: bold;
            margin-top: 10px;
        }

        .close-button {
            position: absolute;
            top: 10px;
            right: 15px;
            background: none;
            border: none;
            color: #fff;
            font-size: 2em;
            cursor: pointer;
            padding: 5px;
            line-height: 1;
            opacity: 0.7;
            transition: opacity 0.2s ease;
        }

        .close-button:hover {
            opacity: 1;
        }

        /* Responsive cho thẻ toàn màn hình */
        @media (max-width: 768px) {
            .fullscreen-card {
                max-width: 95%;
                width: auto; /* Cho phép nó mở rộng hơn trên di động */
                max-height: 95%;
                padding: 10px;
                border-width: 2px;
            }

            .fullscreen-card-image {
                max-width: 90%;
            }

            .fullscreen-card-title {
                font-size: 1.5em;
            }

            .fullscreen-card-description {
                font-size: 1em;
                padding: 0 5px;
            }

            .fullscreen-card-rarity {
                font-size: 1em;
            }

            .close-button {
                font-size: 1.8em;
                top: 5px;
                right: 10px;
            }
        }
    </style>
</head>
<body>
    <h1>LIBRARY</h1>

    <div class="card-grid-container">
        <div class="card-grid" id="cardGrid">
            <!-- Thẻ bài sẽ được thêm vào đây bằng JavaScript -->
        </div>
    </div>

    <!-- Full-screen Card Overlay (Modal) -->
    <div class="fullscreen-overlay" id="fullscreenOverlay">
        <div class="fullscreen-card" id="fullscreenCard">
            <button class="close-button" id="closeCardButton">&times;</button>
            <img src="" alt="" class="fullscreen-card-image" id="fullscreenCardImage">
            <div class="fullscreen-card-title" id="fullscreenCardTitle"></div>
            <div class="fullscreen-card-description" id="fullscreenCardDescription"></div>
            <div class="fullscreen-card-rarity" id="fullscreenCardRarity"></div>
        </div>
    </div>

    <script>
        // JavaScript để tạo và hiển thị thẻ bài
        const cardData = []; // Mảng rỗng để chứa dữ liệu 100 thẻ bài

        const rarities = ['Common', 'Uncommon', 'Rare', 'Epic', 'Legendary'];
        const cardTitles = [
            'Mystic Warrior', 'Dragon\'s Breath', 'Healing Potion', 'Shadow Assassin',
            'Guard Captain', 'Sorcerer Supreme', 'Iron Golem', 'Archer Elite',
            'Time Warp', 'Spirit Wolf', 'Flame Aura', 'Ice Shard',
            'Thunder Strike', 'Forest Nymph', 'Void Walker', 'Stone Wall',
            'Sun Priestess', 'Berserker Rage', 'Celestial Guardian', 'Ancient Rune',
            'Swift Blade', 'Earth Shield', 'Mana Burst', 'Holy Smite',
            'Dark Pact', 'Elixir of Life', 'Poison Dart', 'Crystal Orb',
            'Wind Rush', 'Fire Bolt', 'Water Splash', 'Light Beam',
            'Heavy Armor', 'Silent Hunter', 'Giant Slayer', 'Goblin Thief',
            'Royal Knight', 'Fairy Dust', 'Mirror Image', 'Vampire Lord',
            'Phoenix Feather', 'Frost Nova', 'Desert Wanderer', 'Jungle Beast',
            'Mountain King', 'Ocean Caller', 'Star Gazer', 'Cosmic Energy'
        ];

        // Tạo 100 thẻ bài với dữ liệu giả định
        for (let i = 1; i <= 100; i++) {
            const rarity = rarities[Math.floor(Math.random() * rarities.length)];
            const title = cardTitles[Math.floor(Math.random() * cardTitles.length)];
            const colorCode = Math.floor(Math.random()*16777215).toString(16); // Màu ngẫu nhiên cho ảnh placeholder

            cardData.push({
                id: i,
                // Sử dụng kích thước thumbnail cho lưới (ví dụ: 150x200)
                // và một ảnh lớn hơn cho fullscreen (ví dụ: 800x1200)
                // Ở đây tôi dùng chung một URL placeholder, nhưng bạn nên tạo 2 URL khác nhau
                image: `https://via.placeholder.com/150x200/${colorCode}/FFFFFF?text=Card+${i}`, // Thumbnail image
                fullImage: `https://via.placeholder.com/800x1200/${colorCode}/FFFFFF?text=Card+${i}+Large`, // Fullscreen image
                title: `${title} ${i}`,
                description: `This is a detailed description for Card ${i}: ${title}. It belongs to the ${rarity} rarity and possesses unique abilities that are crucial in strategic gameplay. This card is known for its versatility and can turn the tide of battle with proper use. A must-have for any collector!`,
                rarity: rarity
            });
        }

        const cardGrid = document.getElementById('cardGrid');

        // Elements for the full-screen overlay
        const fullscreenOverlay = document.getElementById('fullscreenOverlay');
        const fullscreenCardImage = document.getElementById('fullscreenCardImage');
        const fullscreenCardTitle = document.getElementById('fullscreenCardTitle');
        const fullscreenCardDescription = document.getElementById('fullscreenCardDescription');
        const fullscreenCardRarity = document.getElementById('fullscreenCardRarity');
        const closeCardButton = document.getElementById('closeCardButton');

        function createCardElement(card) {
            const cardDiv = document.createElement('div');
            cardDiv.classList.add('card');
            cardDiv.setAttribute('data-card-id', card.id);

            cardDiv.innerHTML = `
                <img src="${card.image}" alt="${card.title}" class="card-image">
                <div class="card-title">${card.title}</div>
                <div class="card-description">${card.description}</div>
                <div class="card-rarity">${card.rarity}</div>
            `;

            cardDiv.addEventListener('click', () => {
                showFullscreenCard(card);
            });

            return cardDiv;
        }

        function renderCards() {
            cardData.forEach(card => {
                cardGrid.appendChild(createCardElement(card));
            });
        }

        function showFullscreenCard(card) {
            // Sử dụng fullImage nếu có, nếu không thì dùng image (thumbnail)
            fullscreenCardImage.src = card.fullImage || card.image;
            fullscreenCardImage.alt = card.title;
            fullscreenCardTitle.textContent = card.title;
            fullscreenCardDescription.textContent = card.description;
            fullscreenCardRarity.textContent = card.rarity;

            fullscreenOverlay.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function hideFullscreenCard() {
            fullscreenOverlay.classList.remove('active');
            document.body.style.overflow = '';
        }

        // Khởi tạo hiển thị thẻ bài
        renderCards();

        // Xử lý nút đóng overlay
        closeCardButton.addEventListener('click', hideFullscreenCard);

        // Đóng overlay khi nhấp vào vùng nền đen bên ngoài thẻ bài
        fullscreenOverlay.addEventListener('click', (event) => {
            if (event.target === fullscreenOverlay) {
                hideFullscreenCard();
            }
        });
    </script>
</body>
</html>
