<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thư Viện Thẻ Bài AR</title>
    <style>
        /* CSS cho giao diện */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #333; /* Nền tối giống ảnh */
            color: #eee;
            display: flex;
            flex-direction: column;
            min-height: 100vh; /* Đảm bảo chiều cao tối thiểu */
            overflow-x: hidden; /* Ngăn chặn cuộn ngang không mong muốn */
            position: relative; /* Quan trọng cho overlay */
        }

        .header {
            background-color: #222;
            padding: 10px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid #555;
            flex-shrink: 0; /* Không co lại */
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .dropdown-icon {
            font-size: 24px;
            cursor: pointer;
            color: #ccc;
        }

        .scale-control {
            display: flex;
            align-items: center;
            gap: 5px;
            color: #ccc;
        }

        .scale-slider {
            width: 80px;
            -webkit-appearance: none;
            height: 4px;
            background: #555;
            outline: none;
            opacity: 0.7;
            -webkit-transition: .2s;
            transition: opacity .2s;
            border-radius: 2px;
        }

        .scale-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #007bff;
            cursor: pointer;
        }

        .scale-slider::-moz-range-thumb {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #007bff;
            cursor: pointer;
        }

        .scale-value {
            font-size: 14px;
            min-width: 45px; /* Đảm bảo không bị co khi giá trị thay đổi */
            text-align: right;
        }

        .header-right {
            color: #ccc;
            font-size: 14px;
        }

        h1 {
            font-size: 28px;
            margin-left: 20px;
            margin-top: 15px;
            margin-bottom: 15px;
            color: #eee;
            flex-shrink: 0;
        }

        .card-grid-container {
            flex-grow: 1; /* Cho phép vùng này mở rộng để lấp đầy không gian còn lại */
            overflow-y: auto; /* Cho phép cuộn dọc */
            padding: 0 20px 20px 20px; /* Thêm padding dưới để có khoảng trống khi cuộn */
            -webkit-overflow-scrolling: touch; /* Cuộn mượt mà trên iOS */
        }

        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); /* Cột linh hoạt */
            gap: 15px; /* Khoảng cách giữa các thẻ */
            justify-items: center; /* Căn giữa các thẻ trong ô của chúng */
            align-items: start; /* Căn chỉnh các thẻ từ trên xuống */
            padding-bottom: 20px; /* Khoảng trống ở cuối grid */
        }

        .card {
            background-color: #1a1a1a;
            border: 2px solid #5d4037; /* Màu viền thẻ bài */
            border-radius: 8px;
            padding: 5px;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            width: 100%; /* Chiếm toàn bộ chiều rộng ô grid */
            max-width: 160px; /* Giới hạn kích thước tối đa của thẻ */
            height: auto; /* Chiều cao tự động */
            box-sizing: border-box; /* Bao gồm padding và border trong width/height */
            cursor: pointer; /* Hiển thị con trỏ là bàn tay để chỉ ra có thể nhấp */
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.6);
        }

        .card-image {
            width: 100%;
            max-width: 150px; /* Kích thước tối đa cho hình ảnh trong thẻ */
            height: auto;
            border-radius: 4px;
            margin-bottom: 8px;
            border: 1px solid #444; /* Viền mỏng cho ảnh */
        }

        .card-title {
            font-size: 0.9em;
            font-weight: bold;
            color: #ffc107; /* Màu vàng cho tiêu đề */
            margin-bottom: 5px;
        }

        .card-description {
            font-size: 0.7em;
            color: #bbb;
            text-align: left;
            padding: 0 5px;
            margin-bottom: 5px;
            max-height: 60px; /* Giới hạn chiều cao mô tả */
            overflow: hidden; /* Ẩn phần văn bản thừa */
            text-overflow: ellipsis; /* Hiển thị dấu ba chấm nếu bị cắt */
        }

        .card-rarity {
            font-size: 0.8em;
            color: #9c27b0; /* Màu tím cho độ hiếm */
            font-weight: bold;
            margin-top: auto; /* Đẩy xuống dưới cùng */
        }

        /* Thanh cuộn tùy chỉnh */
        .card-grid-container::-webkit-scrollbar {
            width: 8px;
        }

        .card-grid-container::-webkit-scrollbar-track {
            background: #444;
            border-radius: 4px;
        }

        .card-grid-container::-webkit-scrollbar-thumb {
            background-color: #888;
            border-radius: 4px;
            border: 2px solid #444;
        }

        .card-grid-container::-webkit-scrollbar-thumb:hover {
            background-color: #aaa;
        }

        /* Responsive adjustments */
        @media (max-width: 600px) {
            .header {
                padding: 8px 15px;
            }

            h1 {
                font-size: 24px;
                margin-left: 15px;
            }

            .card-grid {
                grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); /* Nhỏ hơn trên di động */
                gap: 10px;
            }

            .card {
                max-width: 140px;
            }

            .card-title {
                font-size: 0.8em;
            }

            .card-description {
                font-size: 0.65em;
            }

            .scale-slider {
                width: 60px;
            }

            .scale-value {
                min-width: 35px;
            }
        }

        @media (max-width: 400px) {
            .card-grid {
                grid-template-columns: repeat(auto-fill, minmax(90px, 1fr));
            }
            .card {
                max-width: 120px;
            }
        }

        /* --- Full-screen Card Overlay (Modal) --- */
        .fullscreen-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9); /* Nền mờ tối */
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000; /* Đảm bảo nó nằm trên tất cả các yếu tố khác */
            opacity: 0; /* Mặc định ẩn */
            visibility: hidden; /* Mặc định ẩn */
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }

        .fullscreen-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .fullscreen-card {
            background-color: #1a1a1a;
            border: 4px solid #5d4037; /* Viền dày hơn */
            border-radius: 12px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.8);
            max-width: 90%; /* Giới hạn chiều rộng trên màn hình lớn */
            max-height: 90%; /* Giới hạn chiều cao */
            width: 350px; /* Chiều rộng mặc định cho thẻ lớn */
            height: auto;
            box-sizing: border-box;
            position: relative;
            transform: scale(0.8); /* Bắt đầu nhỏ hơn một chút */
            transition: transform 0.3s ease;
            overflow-y: auto; /* Cho phép cuộn nếu nội dung quá dài */
        }

        .fullscreen-overlay.active .fullscreen-card {
            transform: scale(1); /* Phóng to ra */
        }

        .fullscreen-card-image {
            width: 100%;
            max-width: 300px; /* Kích thước hình ảnh lớn hơn */
            height: auto;
            border-radius: 8px;
            margin-bottom: 15px;
            border: 2px solid #666;
        }

        .fullscreen-card-title {
            font-size: 1.8em;
            font-weight: bold;
            color: #ffc107;
            margin-bottom: 10px;
        }

        .fullscreen-card-description {
            font-size: 1.1em;
            color: #ccc;
            text-align: justify; /* Căn đều hai bên cho mô tả */
            padding: 0 10px;
            margin-bottom: 15px;
            line-height: 1.4;
        }

        .fullscreen-card-rarity {
            font-size: 1.2em;
            color: #9c27b0;
            font-weight: bold;
            margin-top: 10px;
        }

        .close-button {
            position: absolute;
            top: 10px;
            right: 15px;
            background: none;
            border: none;
            color: #fff;
            font-size: 2em;
            cursor: pointer;
            padding: 5px;
            line-height: 1;
            opacity: 0.7;
            transition: opacity 0.2s ease;
        }

        .close-button:hover {
            opacity: 1;
        }

        /* Responsive cho thẻ toàn màn hình */
        @media (max-width: 768px) {
            .fullscreen-card {
                max-width: 95%;
                width: auto; /* Cho phép nó mở rộng hơn trên di động */
                max-height: 95%;
                padding: 10px;
                border-width: 2px;
            }

            .fullscreen-card-image {
                max-width: 90%;
            }

            .fullscreen-card-title {
                font-size: 1.5em;
            }

            .fullscreen-card-description {
                font-size: 1em;
                padding: 0 5px;
            }

            .fullscreen-card-rarity {
                font-size: 1em;
            }

            .close-button {
                font-size: 1.8em;
                top: 5px;
                right: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-left">
            <span class="dropdown-icon">&#9660;</span> <!-- Biểu tượng mũi tên xuống -->
            <div class="scale-control">
                <span>Scale</span>
                <input type="range" min="0.1" max="0.5" value="0.18" step="0.01" class="scale-slider" id="scaleSlider">
                <span class="scale-value" id="scaleValue">0.18x</span>
            </div>
        </div>
        <div class="header-right">
            <span>Play</span>
        </div>
    </div>

    <h1>LIBRARY</h1>

    <div class="card-grid-container">
        <div class="card-grid" id="cardGrid">
            <!-- Thẻ bài sẽ được thêm vào đây bằng JavaScript -->
        </div>
    </div>

    <!-- Full-screen Card Overlay (Modal) -->
    <div class="fullscreen-overlay" id="fullscreenOverlay">
        <div class="fullscreen-card" id="fullscreenCard">
            <button class="close-button" id="closeCardButton">&times;</button>
            <img src="" alt="" class="fullscreen-card-image" id="fullscreenCardImage">
            <div class="fullscreen-card-title" id="fullscreenCardTitle"></div>
            <div class="fullscreen-card-description" id="fullscreenCardDescription"></div>
            <div class="fullscreen-card-rarity" id="fullscreenCardRarity"></div>
        </div>
    </div>

    <script>
        // JavaScript để tạo và hiển thị thẻ bài
        const cardData = [
            {
                id: 1,
                image: 'https://via.placeholder.com/150x200/FF0000/FFFFFF?text=Card+1', // Sử dụng placeholder image
                title: 'Card Title One',
                description: 'This is a description for card number one. It provides some basic information about the card. It is a very important card in the game and has unique abilities that can turn the tide of battle. Use it wisely!',
                rarity: 'Common'
            },
            {
                id: 2,
                image: 'https://via.placeholder.com/150x200/00FF00/000000?text=Card+2',
                title: 'Mystic Warrior',
                description: 'A fierce warrior from the enchanted forests, known for unparalleled agility and mastery of ancient combat techniques. His strikes are swift and precise, often catching enemies off guard. Legends say he can move faster than the eye can see.',
                rarity: 'Rare'
            },
            {
                id: 3,
                image: 'https://via.placeholder.com/150x200/0000FF/FFFFFF?text=Card+3',
                title: 'Dragon\'s Breath',
                description: 'Unleash a devastating fiery breath upon your enemies, dealing immense area damage and leaving them engulfed in flames. This ancient spell can turn multiple foes into ash with a single cast. Its power is truly legendary.',
                rarity: 'Epic'
            },
            {
                id: 4,
                image: 'https://via.placeholder.com/150x200/FFFF00/000000?text=Card+4',
                title: 'Healing Potion',
                description: 'Restores a significant amount of health to a target ally, providing crucial sustain in prolonged battles. Always keep a few of these handy for emergency situations or to keep your front-line strong.',
                rarity: 'Common'
            },
            {
                id: 5,
                image: 'https://via.placeholder.com/150x200/FF00FF/FFFFFF?text=Card+5',
                title: 'Shadow Assassin',
                description: 'Strikes from the shadows with deadly precision, dealing critical damage to unsuspecting foes. Known for their stealth and ability to disappear without a trace, they are the ultimate predators. Very few can escape their clutches.',
                rarity: 'Legendary'
            },
            {
                id: 6,
                image: 'https://via.placeholder.com/150x200/00FFFF/000000?text=Card+6',
                title: 'Guard Captain',
                description: 'Leads the front line with unwavering courage and robust defenses. His presence inspires allies and deters enemies. A true leader who stands firm against any threat, protecting those under his command.',
                rarity: 'Uncommon'
            },
            {
                id: 7,
                image: 'https://via.placeholder.com/150x200/800000/FFFFFF?text=Card+7',
                title: 'Sorcerer Supreme',
                description: 'Wields ancient magic with devastating effects, controlling the battlefield with powerful spells and illusions. Her wisdom is as vast as her magical prowess, making her a formidable opponent and invaluable ally.',
                rarity: 'Epic'
            },
            {
                id: 8,
                image: 'https://via.placeholder.com/150x200/008000/FFFFFF?text=Card+8',
                title: 'Iron Golem',
                description: 'A colossal guardian with impenetrable armor, protecting its allies from harm. Slow but incredibly resilient, the Iron Golem is a living fortress, soaking up damage that would obliterate lesser beings.',
                rarity: 'Rare'
            },
            {
                id: 9,
                image: 'https://via.placeholder.com/150x200/000080/FFFFFF?text=Card+9',
                title: 'Archer Elite',
                description: 'Precise shots from a distance, never missing its mark. The Archer Elite can pick off targets with uncanny accuracy, providing crucial ranged support. Their arrows can pierce even the thickest armor.',
                rarity: 'Uncommon'
            },
            {
                id: 10,
                image: 'https://via.placeholder.com/150x200/808000/FFFFFF?text=Card+10',
                title: 'Time Warp',
                description: 'Manipulates the fabric of time to gain an advantage, slowing enemies to a crawl or speeding up allies to an incredible pace. A truly strategic card that can alter the flow of battle dramatically.',
                rarity: 'Legendary'
            },
            {
                id: 11,
                image: 'https://via.placeholder.com/150x200/800080/FFFFFF?text=Card+11',
                title: 'Spirit Wolf',
                description: 'A loyal companion that attacks enemies with spectral claws. Invisible to normal sight, the Spirit Wolf is a stealthy attacker, harassing foes and aiding its master in combat. Loyal to the end.',
                rarity: 'Common'
            },
            {
                id: 12,
                image: 'https://via.placeholder.com/150x200/008080/FFFFFF?text=Card+12',
                title: 'Flame Aura',
                description: 'Surrounds the caster with a burning aura, continuously damaging nearby enemies. A dangerous ability that can clear out swarms of weaker foes and deter close-range attackers. Very effective in tight spaces.',
                rarity: 'Rare'
            },
            // Thêm nhiều thẻ bài khác ở đây để có thanh cuộn
            {
                id: 13,
                image: 'https://via.placeholder.com/150x200/C0C0C0/000000?text=Card+13',
                title: 'Ice Shard',
                description: 'Launches a sharp shard of ice at an enemy, freezing the target in place and dealing moderate damage. Useful for crowd control and isolating dangerous foes.',
                rarity: 'Common'
            },
            {
                id: 14,
                image: 'https://via.placeholder.com/150x200/FFD700/000000?text=Card+14',
                title: 'Thunder Strike',
                description: 'Calls down a powerful lightning bolt, striking a single enemy with immense force. Can stun and deal heavy damage, making it ideal for taking down high-priority targets.',
                rarity: 'Epic'
            },
            {
                id: 15,
                image: 'https://via.placeholder.com/150x200/32CD32/FFFFFF?text=Card+15',
                title: 'Forest Nymph',
                description: 'Heals and buffs allies with nature\'s magic, elusive and swift. The Forest Nymph is a supportive unit, strengthening her companions and subtly influencing the flow of battle.',
                rarity: 'Uncommon'
            },
            {
                id: 16,
                image: 'https://via.placeholder.com/150x200/4B0082/FFFFFF?text=Card+16',
                title: 'Void Walker',
                description: 'Teleports across the battlefield, leaving enemies disoriented and confused. A master of spatial manipulation, the Void Walker can flank foes or escape danger with ease.',
                rarity: 'Legendary'
            },
            {
                id: 17,
                image: 'https://via.placeholder.com/150x200/A9A9A9/000000?text=Card+17',
                title: 'Stone Wall',
                description: 'Summons a durable stone wall to block enemy advances and provide cover for allies. An excellent defensive card for controlling bottlenecks and protecting weaker units.',
                rarity: 'Common'
            },
            {
                id: 18,
                image: 'https://via.placeholder.com/150x200/FF8C00/000000?text=Card+18',
                title: 'Sun Priestess',
                description: 'Channels divine light to smite evil and protect the innocent. Her holy magic can both damage unholy foes and provide potent healing to her devoted allies.',
                rarity: 'Rare'
            },
            {
                id: 19,
                image: 'https://via.placeholder.com/150x200/8B0000/FFFFFF?text=Card+19',
                title: 'Berserker Rage',
                description: 'Enters a state of furious combat, greatly increasing attack speed and damage at the cost of defense. The Berserker is a force of pure destruction, tearing through enemies in a frenzy.',
                rarity: 'Uncommon'
            },
            {
                id: 20,
                image: 'https://via.placeholder.com/150x200/DAA520/000000?text=Card+20',
                title: 'Celestial Guardian',
                description: 'A protector from the heavens, impervious to most forms of attack. The Celestial Guardian is an unyielding bulwark, standing firm against the strongest assaults with its divine shield.',
                rarity: 'Epic'
            }
        ];

        const cardGrid = document.getElementById('cardGrid');
        const scaleSlider = document.getElementById('scaleSlider');
        const scaleValueSpan = document.getElementById('scaleValue');

        // Elements for the full-screen overlay
        const fullscreenOverlay = document.getElementById('fullscreenOverlay');
        const fullscreenCardImage = document.getElementById('fullscreenCardImage');
        const fullscreenCardTitle = document.getElementById('fullscreenCardTitle');
        const fullscreenCardDescription = document.getElementById('fullscreenCardDescription');
        const fullscreenCardRarity = document.getElementById('fullscreenCardRarity');
        const closeCardButton = document.getElementById('closeCardButton');

        function createCardElement(card) {
            const cardDiv = document.createElement('div');
            cardDiv.classList.add('card');
            cardDiv.setAttribute('data-card-id', card.id); // Lưu ID thẻ để dễ dàng truy cập dữ liệu

            cardDiv.innerHTML = `
                <img src="${card.image}" alt="${card.title}" class="card-image">
                <div class="card-title">${card.title}</div>
                <div class="card-description">${card.description}</div>
                <div class="card-rarity">${card.rarity}</div>
            `;

            // Thêm sự kiện click vào thẻ bài
            cardDiv.addEventListener('click', () => {
                showFullscreenCard(card);
            });

            return cardDiv;
        }

        function renderCards() {
            cardData.forEach(card => {
                cardGrid.appendChild(createCardElement(card));
            });
        }

        function showFullscreenCard(card) {
            fullscreenCardImage.src = card.image;
            fullscreenCardImage.alt = card.title;
            fullscreenCardTitle.textContent = card.title;
            fullscreenCardDescription.textContent = card.description;
            fullscreenCardRarity.textContent = card.rarity;

            fullscreenOverlay.classList.add('active'); // Hiển thị overlay
            document.body.style.overflow = 'hidden'; // Ngăn cuộn body khi overlay mở
        }

        function hideFullscreenCard() {
            fullscreenOverlay.classList.remove('active'); // Ẩn overlay
            document.body.style.overflow = ''; // Cho phép body cuộn lại
        }

        // Khởi tạo hiển thị thẻ bài
        renderCards();

        // Xử lý sự kiện thay đổi thanh trượt Scale
        scaleSlider.addEventListener('input', (event) => {
            const value = parseFloat(event.target.value);
            scaleValueSpan.textContent = `${value.toFixed(2)}x`;
        });

        // Thiết lập giá trị ban đầu cho thanh trượt và hiển thị
        scaleValueSpan.textContent = `${parseFloat(scaleSlider.value).toFixed(2)}x`;

        // Xử lý nút đóng overlay
        closeCardButton.addEventListener('click', hideFullscreenCard);

        // Đóng overlay khi nhấp vào vùng nền đen bên ngoài thẻ bài
        fullscreenOverlay.addEventListener('click', (event) => {
            if (event.target === fullscreenOverlay) {
                hideFullscreenCard();
            }
        });
    </script>
</body>
</html>
