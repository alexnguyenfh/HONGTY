<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mô Hình 3D Tràn Màn Hình Có Nhạc Nền</title>
    <style>
        /* Đảm bảo html và body chiếm toàn bộ viewport */
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden; /* Ngăn chặn thanh cuộn xuất hiện */
        }

        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background-color: #1a1a1a; /* Nền tối */
            color: #e0e0e0; /* Chữ sáng */
            position: relative; /* Quan trọng cho các thanh che phủ */
        }

        /* Ẩn tiêu đề và đoạn văn nếu không muốn chúng xuất hiện */
        h1, p {
            display: none;
        }

        .sketchfab-container {
            width: 100%; /* Chiếm toàn bộ chiều rộng của body */
            height: 100%; /* Chiếm toàn bộ chiều cao của body */
            border: none;
            box-shadow: none;
            border-radius: 0;
            overflow: hidden;
            background-color: #2b2b2b; /* Nền container tối */
            padding: 0;
            box-sizing: border-box;
            z-index: 1; /* Đảm bảo iframe nằm dưới các thanh che phủ */
        }

        /* Responsive iframe */
        .sketchfab-container iframe {
            width: 100%;
            height: 100%;
            border: none;
            display: block;
        }

        /* ======================================================= */
        /* CÁC THANH CHE PHỦ MỚI */
        /* ======================================================= */
        .overlay-bar {
            position: fixed; /* Giữ vị trí cố định trên màn hình */
            left: 0;
            width: 100%; /* Kéo dài toàn bộ chiều rộng */
            background-color: white; /* Màu trắng theo yêu cầu */
            z-index: 999; /* Đảm bảo nó luôn nằm trên iframe và các nội dung khác */
            box-sizing: border-box; /* Bao gồm padding/border vào width/height */
        }

        .top-bar {
            top: 0; /* Đặt ở trên cùng */
            height: 50px; /* Chiều cao của thanh trên cùng. ĐIỀU CHỈNH THEO Ý MUỐN */
            border-bottom: 1px solid #ccc; /* Thêm đường viền mờ để phân biệt */
        }

        .bottom-bar {
            bottom: 0; /* Đặt ở dưới cùng */
            height: 50px; /* Chiều cao của thanh dưới cùng. ĐIỀU CHỈNH THEO Ý MUỐN */
            border-top: 1px solid #ccc; /* Thêm đường viền mờ để phân biệt */
        }

        /* ======================================================= */
        /* CÁC NÚT ĐIỀU KHIỂN KHÁC (ví dụ: nhạc) nếu bạn muốn giữ */
        /* ======================================================= */
        #music-toggle {
            position: absolute; /* Đặt nút ở vị trí tuyệt đối */
            top: 60px; /* Đặt thấp hơn thanh trên cùng một chút */
            right: 20px;
            z-index: 1000; /* Đảm bảo nút nằm trên iframe và các thanh che phủ */
            background-color: rgba(0, 188, 212, 0.7); /* Màu nền xanh ngọc, hơi trong suốt */
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: background-color 0.3s ease;
        }

        #music-toggle:hover {
            background-color: rgba(0, 188, 212, 1);
        }

        .icon-speaker::before {
            content: '\1F50A';
            font-size: 1.2em;
        }
        .icon-speaker.muted::before {
            content: '\1F507';
        }

        @media (max-width: 768px) {
            .top-bar, .bottom-bar {
                height: 40px; /* Điều chỉnh chiều cao cho thiết bị di động */
            }
            #music-toggle {
                top: 50px; /* Điều chỉnh vị trí nút nhạc */
                right: 10px;
                padding: 8px 12px;
                font-size: 0.9em;
            }
        }
    </style>
</head>
<body>

    <!-- THANH CHE PHỦ TRÊN CÙNG -->
    <div class="overlay-bar top-bar"></div>

    <!-- THANH CHE PHỦ DƯỚI CÙNG -->
    <div class="overlay-bar bottom-bar"></div>

    <!-- Thẻ audio cho nhạc nền (Đã bỏ comment nếu bạn muốn dùng lại) -->
    <!-- ĐỔI "your_background_music.mp3" thành đường dẫn đến file nhạc của bạn. -->
    <audio id="background-music" src="your_background_music.mp3" autoplay loop muted></audio>

    <!-- Nút bật/tắt nhạc (đặt lại vị trí để không bị các thanh che phủ) -->
    <button id="music-toggle" aria-label="Toggle Background Music">
        <span class="icon-speaker muted"></span>
        <span id="music-status">Bật Nhạc</span>
    </button>

    <div class="sketchfab-container">
        <iframe title="Ffffffffffffffffffffff"
                frameborder="0"
                allowfullscreen
                mozallowfullscreen="true"
                webkitallowfullscreen="true"
                allow="autoplay; fullscreen; xr-spatial-tracking"
                xr-spatial-tracking
                execution-while-out-of-viewport
                execution-while-not-rendered
                web-share
                src="https://sketchfab.com/models/82c690c8f2b44c89acc93e128b9c2914/embed?camera=0&transparent=1&ui_theme=dark&ui_infos=0&ui_controls=0&ui_settings=0&ui_help=0&ui_fullscreen=0&ui_annotations=0&ui_watermark=0">
        </iframe>
    </div>

    <script>
        const backgroundMusic = document.getElementById('background-music');
        const musicToggle = document.getElementById('music-toggle');
        const musicStatus = document.getElementById('music-status');
        const speakerIcon = musicToggle.querySelector('.icon-speaker');

        // Kiểm tra xem các phần tử có tồn tại trước khi truy cập
        if (backgroundMusic && musicToggle && musicStatus && speakerIcon) {
            let isMuted = backgroundMusic.muted;
            updateToggleButton();

            musicToggle.addEventListener('click', () => {
                if (backgroundMusic.paused || isMuted) {
                    backgroundMusic.muted = false;
                    isMuted = false;
                    backgroundMusic.play().then(() => {
                        updateToggleButton();
                    }).catch(error => {
                        console.error("Không thể phát nhạc tự động:", error);
                        alert("Trình duyệt của bạn có thể đang chặn tự động phát âm thanh. Vui lòng thử lại hoặc tương tác với trang.");
                        backgroundMusic.muted = true;
                        isMuted = true;
                        updateToggleButton();
                    });
                } else {
                    backgroundMusic.muted = true;
                    isMuted = true;
                    updateToggleButton();
                }
            });

            function updateToggleButton() {
                if (isMuted) {
                    musicStatus.textContent = 'Bật Nhạc';
                    speakerIcon.classList.add('muted');
                } else {
                    musicStatus.textContent = 'Tắt Nhạc';
                    speakerIcon.classList.remove('muted');
                }
            }

            window.addEventListener('load', () => {
                backgroundMusic.play().catch(error => {
                    console.warn("Autoplay was prevented (expected for non-muted media if not interacted with).", error);
                });
            });
        } else {
            console.warn("Một số phần tử nhạc không được tìm thấy. Chức năng nhạc có thể không hoạt động.");
        }
    </script>
</body>
</html>
