<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drama Hồng Tỷ: Visual Novel Hài Hước</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            color: #333;
            overflow-x: hidden;
        }
        #game-container {
            width: 100%;
            max-width: 800px;
            height: 100vh;
            max-height: 600px;
            background-color: #fff;
            border: 2px solid #ccc;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
            display: flex;
            flex-direction: column;
        }
        #background {
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            position: absolute;
            top: 0;
            left: 0;
            opacity: 0.8;
        }
        #dialogue-box {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            color: #fff;
            padding: 1rem;
            box-sizing: border-box;
            min-height: 25%;
        }
        #character-name {
            font-weight: bold;
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
        }
        #dialogue-text {
            font-size: 1rem;
            line-height: 1.4;
        }
        #choices {
            margin-top: 1rem;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        .choice-button {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 0.75rem 1rem;
            margin: 0.25rem 0;
            cursor: pointer;
            font-size: 0.9rem;
            border-radius: 5px;
            width: 100%;
            text-align: center;
        }
        .choice-button:hover {
            background-color: #45a049;
        }
        #character-image {
            position: absolute;
            top: 40%;
            left: 50%;
            transform: translate(-50%, -50%);
            max-width: 50%;
            height: auto;
            display: none;
        }

        /* Responsive adjustments for mobile */
        @media (max-width: 600px) {
            #game-container {
                max-height: 100vh;
                border-radius: 0;
                border: none;
            }
            #character-name {
                font-size: 1rem;
            }
            #dialogue-text {
                font-size: 0.9rem;
            }
            .choice-button {
                font-size: 0.85rem;
                padding: 0.5rem;
            }
            #character-image {
                max-width: 70%;
                top: 35%;
            }
            #dialogue-box {
                padding: 0.75rem;
                min-height: 30%;
            }
        }
    </style>
</head>
<body>
    <div id="game-container">
        <div id="background"></div>
        <img id="character-image" src="" alt="Character">
        <div id="dialogue-box">
            <div id="character-name"></div>
            <div id="dialogue-text"></div>
            <div id="choices"></div>
        </div>
    </div>

    <script>
        // Dữ liệu game: Các cảnh, đối thoại, lựa chọn
        const scenes = {
            start: {
                background: 'canh0.png',
                character: 'Bạn',
                dialogue: 'Bạn là một chàng trai cô đơn ở Trung Quốc, đang lướt app hẹn hò. Bỗng thấy profile của "Hồng Tỷ" - một chị gái quyến rũ, tự xưng là "vợ người khác" thích phiêu lưu.',
                choices: [
                    { text: 'Nhắn tin chào hỏi', next: 'greet' },
                    { text: 'Bỏ qua, nghi ngờ lừa đảo', next: 'end_safe' }
                ]
            },
            greet: {
                background: 'canh1.png',
                character: 'Hồng Tỷ',
                dialogue: 'Chào anh đẹp trai! Em là Hồng Tỷ đây. Em thích tặng quà miễn phí, chỉ cần anh mang dầu ăn hoặc trái cây đến nhà em thôi. Đến không?',
                choices: [
                    { text: 'Đồng ý, mang dầu ăn đi gặp', next: 'meet' },
                    { text: 'Hỏi thêm chi tiết', next: 'question' },
                    { text: 'Từ chối, nghe lạ quá', next: 'end_safe' }
                ]
            },
            question: {
                background: 'canh2.png',
                character: 'Hồng Tỷ',
                dialogue: 'Ồ, anh hỏi gì vậy? Em chỉ muốn vui vẻ thôi. Đừng lo, em dùng filter giọng nói để bí mật nhé! Hehe.',
                choices: [
                    { text: 'Vẫn đi gặp', next: 'meet' },
                    { text: 'Báo cảnh sát', next: 'end_police' }
                ]
            },
            meet: {
                background: 'canh3.png',
                character: 'Hồng Tỷ',
                dialogue: 'Chào anh! Phòng tối om để lãng mạn. Anh không nhận ra gì lạ chứ? *Cười khúc khích*',
                choices: [
                    { text: 'Tiếp tục, không sao', next: 'reveal' },
                    { text: 'Bật đèn kiểm tra', next: 'end_discover' }
                ]
            },
            reveal: {
                background: 'canh11.png',
                character: 'Bạn',
                dialogue: 'Sau "cuộc gặp", bạn về nhà và thấy video của mình lan truyền trên mạng. Ủa, Hồng Tỷ là... đàn ông? Và bạn là nạn nhân thứ 1691?',
                choices: [
                    { text: 'Khóc lóc, kiểm tra sức khỏe', next: 'end_bad' },
                    { text: 'Cười trừ, thành meme nổi tiếng', next: 'end_meme' }
                ]
            },
            end_safe: {
                background: 'canh6.png',
                character: 'Kết Thúc',
                dialogue: 'Bạn an toàn! Tránh được drama Hồng Tỷ. Hãy cẩn thận với app hẹn hò nhé!',
                choices: []
            },
            end_police: {
                background: 'canh8.png',
                character: 'Kết Thúc',
                dialogue: 'Bạn báo cảnh sát, Hồng Tỷ bị bắt. Bạn là anh hùng! Nhưng giờ mọi người biết bạn suýt bị lừa...',
                choices: []
            },
            end_discover: {
                background: 'canh4.png',
                character: 'Kết Thúc',
                dialogue: 'Bạn bật đèn: "Ơ, anh là đàn ông à?!" Hồng Tỷ: "Surprise!" Bạn chạy thoát, nhưng video vẫn bị quay.',
                choices: []
            },
            end_bad: {
                background: 'canh10.png',
                character: 'Kết Thúc',
                dialogue: 'Bạn dương tính với... drama! Giờ đi kiểm tra sức khỏe và tránh meme trên Weibo.',
                choices: []
            },
            end_meme: {
                background: 'canh7.png',
                character: 'Kết Thúc',
                dialogue: 'Bạn trở thành meme nổi tiếng: "Tôi và dầu ăn của tôi". Ít nhất bạn kiếm được like!',
                choices: []
            }
        };

        let currentScene = 'start';

        function loadScene(sceneKey) {
            const scene = scenes[sceneKey];
            document.getElementById('background').style.backgroundImage = `url('${scene.background}')`;
            document.getElementById('character-name').textContent = scene.character;
            document.getElementById('dialogue-text').textContent = scene.dialogue;

            const choicesDiv = document.getElementById('choices');
            choicesDiv.innerHTML = '';
            scene.choices.forEach(choice => {
                const button = document.createElement('button');
                button.classList.add('choice-button');
                button.textContent = choice.text;
                button.onclick = () => loadScene(choice.next);
                choicesDiv.appendChild(button);
            });

            const characterImage = document.getElementById('character-image');
            characterImage.src = '';
            characterImage.style.display = 'none';
        }

        // Bắt đầu game
        loadScene(currentScene);
    </script>
</body>
</html>
